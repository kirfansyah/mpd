<?php
class Utl_menu extends CI_Controller{
    
    function __construct() {
        parent::__construct();
		$this->load->model(array('m_menu'));		
		
		if(!$this->session->userdata('userid')){
			
            redirect('login');
        }
        ini_set('max_execution_time', 300);
    }
	
	function index(){        
//		$data['userid'] = ucfirst($this->session->userdata('userid'));
		redirect('utl_menu/menu');
    }
	
	function menu(){
		$data['title'] = "Daftar Menu";
		$data['record']=  $this->db->get_where('tblOL_UtlMenu',array('NotActive'=>0))->result();
		
		if ($this->uri->segment(3) == 'delete_success'){
			$data['message'] = '<div class="alert alert-success"><a class="close" data-dismiss="alert">Ã—</a><i class="icon-info-sign">&nbsp;</i> Hapus Data Berhasil</div>';
		} elseif ($this->uri->segment(3) == 'delete_failed'){
			$data['message'] = '<div class="alert alert-danger"><a class="close" data-dismiss="alert">Ã—</a><i class="icon-warning-sign">&nbsp;</i> Hapus Data Gagal</div>';
		} else {
			$data['message'] = $this->session->flashdata('message');
		}
		
        $this->template->display('utility/menu/menulist',$data);
	}
	
	function addmenu(){		
		$arr = array ( 'icon-glass' => '\f000', 'icon-music' => '\f001', 'icon-search' => '\f002', 'icon-envelope-alt' => '\f003', 'icon-heart' => '\f004', 'icon-star' => '\f005', 'icon-star-empty' => '\f006', 'icon-user' => '\f007', 'icon-film' => '\f008', 'icon-th-large' => '\f009', 'icon-th' => '\f00a', 'icon-th-list' => '\f00b', 'icon-ok' => '\f00c', 'icon-remove' => '\f00d', 'icon-zoom-in' => '\f00e', 'icon-zoom-out' => '\f010', 'icon-off' => '\f011', 'icon-signal' => '\f012', 'icon-cog' => '\f013', 'icon-trash' => '\f014', 'icon-home' => '\f015', 'icon-file-alt' => '\f016', 'icon-time' => '\f017', 'icon-road' => '\f018', 'icon-download-alt' => '\f019', 'icon-download' => '\f01a', 'icon-upload' => '\f01b', 'icon-inbox' => '\f01c', 'icon-play-circle' => '\f01d', 'icon-repeat' => '\f01e', 'icon-refresh' => '\f021', 'icon-list-alt' => '\f022', 'icon-lock' => '\f023', 'icon-flag' => '\f024', 'icon-headphones' => '\f025', 'icon-volume-off' => '\f026', 'icon-volume-down' => '\f027', 'icon-volume-up' => '\f028', 'icon-qrcode' => '\f029', 'icon-barcode' => '\f02a', 'icon-tag' => '\f02b', 'icon-tags' => '\f02c', 'icon-book' => '\f02d', 'icon-bookmark' => '\f02e', 'icon-print' => '\f02f', 'icon-camera' => '\f030', 'icon-font' => '\f031', 'icon-bold' => '\f032', 'icon-italic' => '\f033', 'icon-text-height' => '\f034', 'icon-text-width' => '\f035', 'icon-align-left' => '\f036', 'icon-align-center' => '\f037', 'icon-align-right' => '\f038', 'icon-align-justify' => '\f039', 'icon-list' => '\f03a', 'icon-indent-left' => '\f03b', 'icon-indent-right' => '\f03c', 'icon-facetime-video' => '\f03d', 'icon-picture' => '\f03e', 'icon-pencil' => '\f040', 'icon-map-marker' => '\f041', 'icon-adjust' => '\f042', 'icon-tint' => '\f043', 'icon-edit' => '\f044', 'icon-share' => '\f045', 'icon-check' => '\f046', 'icon-move' => '\f047', 'icon-step-backward' => '\f048', 'icon-fast-backward' => '\f049', 'icon-backward' => '\f04a', 'icon-play' => '\f04b', 'icon-pause' => '\f04c', 'icon-stop' => '\f04d', 'icon-forward' => '\f04e', 'icon-fast-forward' => '\f050', 'icon-step-forward' => '\f051', 'icon-eject' => '\f052', 'icon-chevron-left' => '\f053', 'icon-chevron-right' => '\f054', 'icon-plus-sign' => '\f055', 'icon-minus-sign' => '\f056', 'icon-remove-sign' => '\f057', 'icon-ok-sign' => '\f058', 'icon-question-sign' => '\f059', 'icon-info-sign' => '\f05a', 'icon-screenshot' => '\f05b', 'icon-remove-circle' => '\f05c', 'icon-ok-circle' => '\f05d', 'icon-ban-circle' => '\f05e', 'icon-arrow-left' => '\f060', 'icon-arrow-right' => '\f061', 'icon-arrow-up' => '\f062', 'icon-arrow-down' => '\f063', 'icon-share-alt' => '\f064', 'icon-resize-full' => '\f065', 'icon-resize-small' => '\f066', 'icon-plus' => '\f067', 'icon-minus' => '\f068', 'icon-asterisk' => '\f069', 'icon-exclamation-sign' => '\f06a', 'icon-gift' => '\f06b', 'icon-leaf' => '\f06c', 'icon-fire' => '\f06d', 'icon-eye-open' => '\f06e', 'icon-eye-close' => '\f070', 'icon-warning-sign' => '\f071', 'icon-plane' => '\f072', 'icon-calendar' => '\f073', 'icon-random' => '\f074', 'icon-comment' => '\f075', 'icon-magnet' => '\f076', 'icon-chevron-up' => '\f077', 'icon-chevron-down' => '\f078', 'icon-retweet' => '\f079', 'icon-shopping-cart' => '\f07a', 'icon-folder-close' => '\f07b', 'icon-folder-open' => '\f07c', 'icon-resize-vertical' => '\f07d', 'icon-resize-horizontal' => '\f07e', 'icon-bar-chart' => '\f080', 'icon-twitter-sign' => '\f081', 'icon-facebook-sign' => '\f082', 'icon-camera-retro' => '\f083', 'icon-key' => '\f084', 'icon-cogs' => '\f085', 'icon-comments' => '\f086', 'icon-thumbs-up-alt' => '\f087', 'icon-thumbs-down-alt' => '\f088', 'icon-star-half' => '\f089', 'icon-heart-empty' => '\f08a', 'icon-signout' => '\f08b', 'icon-linkedin-sign' => '\f08c', 'icon-pushpin' => '\f08d', 'icon-external-link' => '\f08e', 'icon-signin' => '\f090', 'icon-trophy' => '\f091', 'icon-github-sign' => '\f092', 'icon-upload-alt' => '\f093', 'icon-lemon' => '\f094', 'icon-phone' => '\f095', 'icon-check-empty' => '\f096', 'icon-bookmark-empty' => '\f097', 'icon-phone-sign' => '\f098', 'icon-twitter' => '\f099', 'icon-facebook' => '\f09a', 'icon-github' => '\f09b', 'icon-unlock' => '\f09c', 'icon-credit-card' => '\f09d', 'icon-rss' => '\f09e', 'icon-hdd' => '\f0a0', 'icon-bullhorn' => '\f0a1', 'icon-bell' => '\f0a2', 'icon-certificate' => '\f0a3', 'icon-hand-right' => '\f0a4', 'icon-hand-left' => '\f0a5', 'icon-hand-up' => '\f0a6', 'icon-hand-down' => '\f0a7', 'icon-circle-arrow-left' => '\f0a8', 'icon-circle-arrow-right' => '\f0a9', 'icon-circle-arrow-up' => '\f0aa', 'icon-circle-arrow-down' => '\f0ab', 'icon-globe' => '\f0ac', 'icon-wrench' => '\f0ad', 'icon-tasks' => '\f0ae', 'icon-filter' => '\f0b0', 'icon-briefcase' => '\f0b1', 'icon-fullscreen' => '\f0b2', 'icon-group' => '\f0c0', 'icon-link' => '\f0c1', 'icon-cloud' => '\f0c2', 'icon-beaker' => '\f0c3', 'icon-cut' => '\f0c4', 'icon-copy' => '\f0c5', 'icon-paper-clip' => '\f0c6', 'icon-save' => '\f0c7', 'icon-sign-blank' => '\f0c8', 'icon-reorder' => '\f0c9', 'icon-list-ul' => '\f0ca', 'icon-list-ol' => '\f0cb', 'icon-strikethrough' => '\f0cc', 'icon-underline' => '\f0cd', 'icon-table' => '\f0ce', 'icon-magic' => '\f0d0', 'icon-truck' => '\f0d1', 'icon-pinterest' => '\f0d2', 'icon-pinterest-sign' => '\f0d3', 'icon-google-plus-sign' => '\f0d4', 'icon-google-plus' => '\f0d5', 'icon-money' => '\f0d6', 'icon-caret-down' => '\f0d7', 'icon-caret-up' => '\f0d8', 'icon-caret-left' => '\f0d9', 'icon-caret-right' => '\f0da', 'icon-columns' => '\f0db', 'icon-sort' => '\f0dc', 'icon-sort-down' => '\f0dd', 'icon-sort-up' => '\f0de', 'icon-envelope' => '\f0e0', 'icon-linkedin' => '\f0e1', 'icon-undo' => '\f0e2', 'icon-legal' => '\f0e3', 'icon-dashboard' => '\f0e4', 'icon-comment-alt' => '\f0e5', 'icon-comments-alt' => '\f0e6', 'icon-bolt' => '\f0e7', 'icon-sitemap' => '\f0e8', 'icon-umbrella' => '\f0e9', 'icon-paste' => '\f0ea', 'icon-lightbulb' => '\f0eb', 'icon-exchange' => '\f0ec', 'icon-cloud-download' => '\f0ed', 'icon-cloud-upload' => '\f0ee', 'icon-user-md' => '\f0f0', 'icon-stethoscope' => '\f0f1', 'icon-suitcase' => '\f0f2', 'icon-bell-alt' => '\f0f3', 'icon-coffee' => '\f0f4', 'icon-food' => '\f0f5', 'icon-file-text-alt' => '\f0f6', 'icon-building' => '\f0f7', 'icon-hospital' => '\f0f8', 'icon-ambulance' => '\f0f9', 'icon-medkit' => '\f0fa', 'icon-fighter-jet' => '\f0fb', 'icon-beer' => '\f0fc', 'icon-h-sign' => '\f0fd', 'icon-plus-sign-alt' => '\f0fe', 'icon-double-angle-left' => '\f100', 'icon-double-angle-right' => '\f101', 'icon-double-angle-up' => '\f102', 'icon-double-angle-down' => '\f103', 'icon-angle-left' => '\f104', 'icon-angle-right' => '\f105', 'icon-angle-up' => '\f106', 'icon-angle-down' => '\f107', 'icon-desktop' => '\f108', 'icon-laptop' => '\f109', 'icon-tablet' => '\f10a', 'icon-mobile-phone' => '\f10b', 'icon-circle-blank' => '\f10c', 'icon-quote-left' => '\f10d', 'icon-quote-right' => '\f10e', 'icon-spinner' => '\f110', 'icon-circle' => '\f111', 'icon-reply' => '\f112', 'icon-github-alt' => '\f113', 'icon-folder-close-alt' => '\f114', 'icon-folder-open-alt' => '\f115', 'icon-expand-alt' => '\f116', 'icon-collapse-alt' => '\f117', 'icon-smile' => '\f118', 'icon-frown' => '\f119', 'icon-meh' => '\f11a', 'icon-gamepad' => '\f11b', 'icon-keyboard' => '\f11c', 'icon-flag-alt' => '\f11d', 'icon-flag-checkered' => '\f11e', 'icon-terminal' => '\f120', 'icon-code' => '\f121', 'icon-reply-all' => '\f122', 'icon-mail-reply-all' => '\f122', 'icon-star-half-empty' => '\f123', 'icon-location-arrow' => '\f124', 'icon-crop' => '\f125', 'icon-code-fork' => '\f126', 'icon-unlink' => '\f127', 'icon-question' => '\f128', 'icon-info' => '\f129', 'icon-exclamation' => '\f12a', 'icon-superscript' => '\f12b', 'icon-subscript' => '\f12c', 'icon-eraser' => '\f12d', 'icon-puzzle-piece' => '\f12e', 'icon-microphone' => '\f130', 'icon-microphone-off' => '\f131', 'icon-shield' => '\f132', 'icon-calendar-empty' => '\f133', 'icon-fire-extinguisher' => '\f134', 'icon-rocket' => '\f135', 'icon-maxcdn' => '\f136', 'icon-chevron-sign-left' => '\f137', 'icon-chevron-sign-right' => '\f138', 'icon-chevron-sign-up' => '\f139', 'icon-chevron-sign-down' => '\f13a', 'icon-html5' => '\f13b', 'icon-css3' => '\f13c', 'icon-anchor' => '\f13d', 'icon-unlock-alt' => '\f13e', 'icon-bullseye' => '\f140', 'icon-ellipsis-horizontal' => '\f141', 'icon-ellipsis-vertical' => '\f142', 'icon-rss-sign' => '\f143', 'icon-play-sign' => '\f144', 'icon-ticket' => '\f145', 'icon-minus-sign-alt' => '\f146', 'icon-check-minus' => '\f147', 'icon-level-up' => '\f148', 'icon-level-down' => '\f149', 'icon-check-sign' => '\f14a', 'icon-edit-sign' => '\f14b', 'icon-external-link-sign' => '\f14c', 'icon-share-sign' => '\f14d', 'icon-compass' => '\f14e', 'icon-collapse' => '\f150', 'icon-collapse-top' => '\f151', 'icon-expand' => '\f152', 'icon-eur' => '\f153', 'icon-gbp' => '\f154', 'icon-usd' => '\f155', 'icon-inr' => '\f156', 'icon-jpy' => '\f157', 'icon-cny' => '\f158', 'icon-krw' => '\f159', 'icon-btc' => '\f15a', 'icon-file' => '\f15b', 'icon-file-text' => '\f15c', 'icon-sort-by-alphabet' => '\f15d', 'icon-sort-by-alphabet-alt' => '\f15e', 'icon-sort-by-attributes' => '\f160', 'icon-sort-by-attributes-alt' => '\f161', 'icon-sort-by-order' => '\f162', 'icon-sort-by-order-alt' => '\f163', 'icon-thumbs-up' => '\f164', 'icon-thumbs-down' => '\f165', 'icon-youtube-sign' => '\f166', 'icon-youtube' => '\f167', 'icon-xing' => '\f168', 'icon-xing-sign' => '\f169', 'icon-youtube-play' => '\f16a', 'icon-dropbox' => '\f16b', 'icon-stackexchange' => '\f16c', 'icon-instagram' => '\f16d', 'icon-flickr' => '\f16e', 'icon-adn' => '\f170', 'icon-bitbucket' => '\f171', 'icon-bitbucket-sign' => '\f172', 'icon-tumblr' => '\f173', 'icon-tumblr-sign' => '\f174', 'icon-long-arrow-down' => '\f175', 'icon-long-arrow-up' => '\f176', 'icon-long-arrow-left' => '\f177', 'icon-long-arrow-right' => '\f178', 'icon-apple' => '\f179', 'icon-windows' => '\f17a', 'icon-android' => '\f17b', 'icon-linux' => '\f17c', 'icon-dribbble' => '\f17d', 'icon-skype' => '\f17e', 'icon-foursquare' => '\f180', 'icon-trello' => '\f181', 'icon-female' => '\f182', 'icon-male' => '\f183', 'icon-gittip' => '\f184', 'icon-sun' => '\f185', 'icon-moon' => '\f186', 'icon-archive' => '\f187', 'icon-bug' => '\f188', 'icon-vk' => '\f189', 'icon-weibo' => '\f18a', 'icon-renren' => '\f18b' );
		$data['title'] = "Tambah Menu";
		$data['falist'] = $arr;
//		$data['menulist'] = $this->db->get('tblOL_UtlMenu')->result();
		$data['menulist'] = $this->db->get_where('tblOL_UtlMenu',array('NotActive'=>0,'MenuParent'=>0))->result();
		$this->template->display('utility/menu/menuadd',$data);
	}
	
	function editmenu($menuid){
		$arr = array ( 'icon-glass' => '\f000', 'icon-music' => '\f001', 'icon-search' => '\f002', 'icon-envelope-alt' => '\f003', 'icon-heart' => '\f004', 'icon-star' => '\f005', 'icon-star-empty' => '\f006', 'icon-user' => '\f007', 'icon-film' => '\f008', 'icon-th-large' => '\f009', 'icon-th' => '\f00a', 'icon-th-list' => '\f00b', 'icon-ok' => '\f00c', 'icon-remove' => '\f00d', 'icon-zoom-in' => '\f00e', 'icon-zoom-out' => '\f010', 'icon-off' => '\f011', 'icon-signal' => '\f012', 'icon-cog' => '\f013', 'icon-trash' => '\f014', 'icon-home' => '\f015', 'icon-file-alt' => '\f016', 'icon-time' => '\f017', 'icon-road' => '\f018', 'icon-download-alt' => '\f019', 'icon-download' => '\f01a', 'icon-upload' => '\f01b', 'icon-inbox' => '\f01c', 'icon-play-circle' => '\f01d', 'icon-repeat' => '\f01e', 'icon-refresh' => '\f021', 'icon-list-alt' => '\f022', 'icon-lock' => '\f023', 'icon-flag' => '\f024', 'icon-headphones' => '\f025', 'icon-volume-off' => '\f026', 'icon-volume-down' => '\f027', 'icon-volume-up' => '\f028', 'icon-qrcode' => '\f029', 'icon-barcode' => '\f02a', 'icon-tag' => '\f02b', 'icon-tags' => '\f02c', 'icon-book' => '\f02d', 'icon-bookmark' => '\f02e', 'icon-print' => '\f02f', 'icon-camera' => '\f030', 'icon-font' => '\f031', 'icon-bold' => '\f032', 'icon-italic' => '\f033', 'icon-text-height' => '\f034', 'icon-text-width' => '\f035', 'icon-align-left' => '\f036', 'icon-align-center' => '\f037', 'icon-align-right' => '\f038', 'icon-align-justify' => '\f039', 'icon-list' => '\f03a', 'icon-indent-left' => '\f03b', 'icon-indent-right' => '\f03c', 'icon-facetime-video' => '\f03d', 'icon-picture' => '\f03e', 'icon-pencil' => '\f040', 'icon-map-marker' => '\f041', 'icon-adjust' => '\f042', 'icon-tint' => '\f043', 'icon-edit' => '\f044', 'icon-share' => '\f045', 'icon-check' => '\f046', 'icon-move' => '\f047', 'icon-step-backward' => '\f048', 'icon-fast-backward' => '\f049', 'icon-backward' => '\f04a', 'icon-play' => '\f04b', 'icon-pause' => '\f04c', 'icon-stop' => '\f04d', 'icon-forward' => '\f04e', 'icon-fast-forward' => '\f050', 'icon-step-forward' => '\f051', 'icon-eject' => '\f052', 'icon-chevron-left' => '\f053', 'icon-chevron-right' => '\f054', 'icon-plus-sign' => '\f055', 'icon-minus-sign' => '\f056', 'icon-remove-sign' => '\f057', 'icon-ok-sign' => '\f058', 'icon-question-sign' => '\f059', 'icon-info-sign' => '\f05a', 'icon-screenshot' => '\f05b', 'icon-remove-circle' => '\f05c', 'icon-ok-circle' => '\f05d', 'icon-ban-circle' => '\f05e', 'icon-arrow-left' => '\f060', 'icon-arrow-right' => '\f061', 'icon-arrow-up' => '\f062', 'icon-arrow-down' => '\f063', 'icon-share-alt' => '\f064', 'icon-resize-full' => '\f065', 'icon-resize-small' => '\f066', 'icon-plus' => '\f067', 'icon-minus' => '\f068', 'icon-asterisk' => '\f069', 'icon-exclamation-sign' => '\f06a', 'icon-gift' => '\f06b', 'icon-leaf' => '\f06c', 'icon-fire' => '\f06d', 'icon-eye-open' => '\f06e', 'icon-eye-close' => '\f070', 'icon-warning-sign' => '\f071', 'icon-plane' => '\f072', 'icon-calendar' => '\f073', 'icon-random' => '\f074', 'icon-comment' => '\f075', 'icon-magnet' => '\f076', 'icon-chevron-up' => '\f077', 'icon-chevron-down' => '\f078', 'icon-retweet' => '\f079', 'icon-shopping-cart' => '\f07a', 'icon-folder-close' => '\f07b', 'icon-folder-open' => '\f07c', 'icon-resize-vertical' => '\f07d', 'icon-resize-horizontal' => '\f07e', 'icon-bar-chart' => '\f080', 'icon-twitter-sign' => '\f081', 'icon-facebook-sign' => '\f082', 'icon-camera-retro' => '\f083', 'icon-key' => '\f084', 'icon-cogs' => '\f085', 'icon-comments' => '\f086', 'icon-thumbs-up-alt' => '\f087', 'icon-thumbs-down-alt' => '\f088', 'icon-star-half' => '\f089', 'icon-heart-empty' => '\f08a', 'icon-signout' => '\f08b', 'icon-linkedin-sign' => '\f08c', 'icon-pushpin' => '\f08d', 'icon-external-link' => '\f08e', 'icon-signin' => '\f090', 'icon-trophy' => '\f091', 'icon-github-sign' => '\f092', 'icon-upload-alt' => '\f093', 'icon-lemon' => '\f094', 'icon-phone' => '\f095', 'icon-check-empty' => '\f096', 'icon-bookmark-empty' => '\f097', 'icon-phone-sign' => '\f098', 'icon-twitter' => '\f099', 'icon-facebook' => '\f09a', 'icon-github' => '\f09b', 'icon-unlock' => '\f09c', 'icon-credit-card' => '\f09d', 'icon-rss' => '\f09e', 'icon-hdd' => '\f0a0', 'icon-bullhorn' => '\f0a1', 'icon-bell' => '\f0a2', 'icon-certificate' => '\f0a3', 'icon-hand-right' => '\f0a4', 'icon-hand-left' => '\f0a5', 'icon-hand-up' => '\f0a6', 'icon-hand-down' => '\f0a7', 'icon-circle-arrow-left' => '\f0a8', 'icon-circle-arrow-right' => '\f0a9', 'icon-circle-arrow-up' => '\f0aa', 'icon-circle-arrow-down' => '\f0ab', 'icon-globe' => '\f0ac', 'icon-wrench' => '\f0ad', 'icon-tasks' => '\f0ae', 'icon-filter' => '\f0b0', 'icon-briefcase' => '\f0b1', 'icon-fullscreen' => '\f0b2', 'icon-group' => '\f0c0', 'icon-link' => '\f0c1', 'icon-cloud' => '\f0c2', 'icon-beaker' => '\f0c3', 'icon-cut' => '\f0c4', 'icon-copy' => '\f0c5', 'icon-paper-clip' => '\f0c6', 'icon-save' => '\f0c7', 'icon-sign-blank' => '\f0c8', 'icon-reorder' => '\f0c9', 'icon-list-ul' => '\f0ca', 'icon-list-ol' => '\f0cb', 'icon-strikethrough' => '\f0cc', 'icon-underline' => '\f0cd', 'icon-table' => '\f0ce', 'icon-magic' => '\f0d0', 'icon-truck' => '\f0d1', 'icon-pinterest' => '\f0d2', 'icon-pinterest-sign' => '\f0d3', 'icon-google-plus-sign' => '\f0d4', 'icon-google-plus' => '\f0d5', 'icon-money' => '\f0d6', 'icon-caret-down' => '\f0d7', 'icon-caret-up' => '\f0d8', 'icon-caret-left' => '\f0d9', 'icon-caret-right' => '\f0da', 'icon-columns' => '\f0db', 'icon-sort' => '\f0dc', 'icon-sort-down' => '\f0dd', 'icon-sort-up' => '\f0de', 'icon-envelope' => '\f0e0', 'icon-linkedin' => '\f0e1', 'icon-undo' => '\f0e2', 'icon-legal' => '\f0e3', 'icon-dashboard' => '\f0e4', 'icon-comment-alt' => '\f0e5', 'icon-comments-alt' => '\f0e6', 'icon-bolt' => '\f0e7', 'icon-sitemap' => '\f0e8', 'icon-umbrella' => '\f0e9', 'icon-paste' => '\f0ea', 'icon-lightbulb' => '\f0eb', 'icon-exchange' => '\f0ec', 'icon-cloud-download' => '\f0ed', 'icon-cloud-upload' => '\f0ee', 'icon-user-md' => '\f0f0', 'icon-stethoscope' => '\f0f1', 'icon-suitcase' => '\f0f2', 'icon-bell-alt' => '\f0f3', 'icon-coffee' => '\f0f4', 'icon-food' => '\f0f5', 'icon-file-text-alt' => '\f0f6', 'icon-building' => '\f0f7', 'icon-hospital' => '\f0f8', 'icon-ambulance' => '\f0f9', 'icon-medkit' => '\f0fa', 'icon-fighter-jet' => '\f0fb', 'icon-beer' => '\f0fc', 'icon-h-sign' => '\f0fd', 'icon-plus-sign-alt' => '\f0fe', 'icon-double-angle-left' => '\f100', 'icon-double-angle-right' => '\f101', 'icon-double-angle-up' => '\f102', 'icon-double-angle-down' => '\f103', 'icon-angle-left' => '\f104', 'icon-angle-right' => '\f105', 'icon-angle-up' => '\f106', 'icon-angle-down' => '\f107', 'icon-desktop' => '\f108', 'icon-laptop' => '\f109', 'icon-tablet' => '\f10a', 'icon-mobile-phone' => '\f10b', 'icon-circle-blank' => '\f10c', 'icon-quote-left' => '\f10d', 'icon-quote-right' => '\f10e', 'icon-spinner' => '\f110', 'icon-circle' => '\f111', 'icon-reply' => '\f112', 'icon-github-alt' => '\f113', 'icon-folder-close-alt' => '\f114', 'icon-folder-open-alt' => '\f115', 'icon-expand-alt' => '\f116', 'icon-collapse-alt' => '\f117', 'icon-smile' => '\f118', 'icon-frown' => '\f119', 'icon-meh' => '\f11a', 'icon-gamepad' => '\f11b', 'icon-keyboard' => '\f11c', 'icon-flag-alt' => '\f11d', 'icon-flag-checkered' => '\f11e', 'icon-terminal' => '\f120', 'icon-code' => '\f121', 'icon-reply-all' => '\f122', 'icon-mail-reply-all' => '\f122', 'icon-star-half-empty' => '\f123', 'icon-location-arrow' => '\f124', 'icon-crop' => '\f125', 'icon-code-fork' => '\f126', 'icon-unlink' => '\f127', 'icon-question' => '\f128', 'icon-info' => '\f129', 'icon-exclamation' => '\f12a', 'icon-superscript' => '\f12b', 'icon-subscript' => '\f12c', 'icon-eraser' => '\f12d', 'icon-puzzle-piece' => '\f12e', 'icon-microphone' => '\f130', 'icon-microphone-off' => '\f131', 'icon-shield' => '\f132', 'icon-calendar-empty' => '\f133', 'icon-fire-extinguisher' => '\f134', 'icon-rocket' => '\f135', 'icon-maxcdn' => '\f136', 'icon-chevron-sign-left' => '\f137', 'icon-chevron-sign-right' => '\f138', 'icon-chevron-sign-up' => '\f139', 'icon-chevron-sign-down' => '\f13a', 'icon-html5' => '\f13b', 'icon-css3' => '\f13c', 'icon-anchor' => '\f13d', 'icon-unlock-alt' => '\f13e', 'icon-bullseye' => '\f140', 'icon-ellipsis-horizontal' => '\f141', 'icon-ellipsis-vertical' => '\f142', 'icon-rss-sign' => '\f143', 'icon-play-sign' => '\f144', 'icon-ticket' => '\f145', 'icon-minus-sign-alt' => '\f146', 'icon-check-minus' => '\f147', 'icon-level-up' => '\f148', 'icon-level-down' => '\f149', 'icon-check-sign' => '\f14a', 'icon-edit-sign' => '\f14b', 'icon-external-link-sign' => '\f14c', 'icon-share-sign' => '\f14d', 'icon-compass' => '\f14e', 'icon-collapse' => '\f150', 'icon-collapse-top' => '\f151', 'icon-expand' => '\f152', 'icon-eur' => '\f153', 'icon-gbp' => '\f154', 'icon-usd' => '\f155', 'icon-inr' => '\f156', 'icon-jpy' => '\f157', 'icon-cny' => '\f158', 'icon-krw' => '\f159', 'icon-btc' => '\f15a', 'icon-file' => '\f15b', 'icon-file-text' => '\f15c', 'icon-sort-by-alphabet' => '\f15d', 'icon-sort-by-alphabet-alt' => '\f15e', 'icon-sort-by-attributes' => '\f160', 'icon-sort-by-attributes-alt' => '\f161', 'icon-sort-by-order' => '\f162', 'icon-sort-by-order-alt' => '\f163', 'icon-thumbs-up' => '\f164', 'icon-thumbs-down' => '\f165', 'icon-youtube-sign' => '\f166', 'icon-youtube' => '\f167', 'icon-xing' => '\f168', 'icon-xing-sign' => '\f169', 'icon-youtube-play' => '\f16a', 'icon-dropbox' => '\f16b', 'icon-stackexchange' => '\f16c', 'icon-instagram' => '\f16d', 'icon-flickr' => '\f16e', 'icon-adn' => '\f170', 'icon-bitbucket' => '\f171', 'icon-bitbucket-sign' => '\f172', 'icon-tumblr' => '\f173', 'icon-tumblr-sign' => '\f174', 'icon-long-arrow-down' => '\f175', 'icon-long-arrow-up' => '\f176', 'icon-long-arrow-left' => '\f177', 'icon-long-arrow-right' => '\f178', 'icon-apple' => '\f179', 'icon-windows' => '\f17a', 'icon-android' => '\f17b', 'icon-linux' => '\f17c', 'icon-dribbble' => '\f17d', 'icon-skype' => '\f17e', 'icon-foursquare' => '\f180', 'icon-trello' => '\f181', 'icon-female' => '\f182', 'icon-male' => '\f183', 'icon-gittip' => '\f184', 'icon-sun' => '\f185', 'icon-moon' => '\f186', 'icon-archive' => '\f187', 'icon-bug' => '\f188', 'icon-vk' => '\f189', 'icon-weibo' => '\f18a', 'icon-renren' => '\f18b' );
		$data['title'] = "Edit Menu";
		$data['falist'] = $arr;
		$data['menulist'] = $this->db->get_where('tblOL_UtlMenu',array('NotActive'=>0,'MenuParent'=>0))->result();
		$data['datamenu'] = $this->m_menu->get_menu_single($menuid)->result();
		
		$this->template->display('utility/menu/menuedit',$data);
	}
	
	function savemenu(){
		$info = array(
			'MenuID'		=> $this->input->post('txtMenuID'),
			'MenuName'		=> $this->input->post('txtMenuName'),
			'MenuIcon'		=> $this->input->post('txtMenuIcon'),
			'MenuLink'		=> $this->input->post('txtMenuLink'),
			'MenuParent'	=> $this->input->post('txtMenuParent'),
			'NotActive'		=> 0
		);
		$this->m_menu->simpan($info);
		$this->session->set_flashdata('message','Simpan Menu Berhasil');
		redirect('utl_menu');
	}
	
	function updatemenu(){
		$info = array(
			'MenuName'		=> $this->input->post('txtMenuName'),
			'MenuIcon'		=> $this->input->post('txtMenuIcon'),
			'MenuLink'		=> $this->input->post('txtMenuLink'),
			'MenuParent'	=> $this->input->post('txtMenuParent'),
			'NotActive'		=> 0
		);
		$menuid = $this->input->post('txtMenuID');
		$menuname = strtoupper($this->input->post('txtMenuName'));
		$this->m_menu->update_menu($menuid, $info);
		$this->session->set_flashdata('message','<div class="alert alert-success"><a class="close" data-dismiss="alert">Ã—</a><i class="icon-info-sign">&nbsp;</i> Update Menu '.$menuname.' Berhasil</div>');
		redirect('utl_menu');
	}
	
	function deletemenu(){
		$info = array(
			'NotActive'	=> 1
		);
		$menuid = $this->input->post('menuid');
		$this->m_menu->deactive_menu($menuid,$info);		
	}
	
	function fontawesomelist(){
		$pattern = '/\.(icon-(?:\w+(?:-)?)+):before\s+{\s*content:*"(.+)"+/';
		$subject = file_get_contents('./assets/css/font-awesome.css');

		preg_match_all($pattern, $subject, $matches, PREG_SET_ORDER);
				
		$icons = array();
		
		foreach($matches as $match){
			$icons[$match[1]] = $match[2];
//			$icons[]=$match[1];
//			$icons[]=array(
//				'NamaIcon'=>$match[1],
//				'GambarIcon'=>$match[2]
//				);
		}
		
		$icons = var_export($icons, TRUE);
		$icons = stripslashes($icons);
		return $icons;
	}
	
	function test(){
		$data['falist']=$this->fontawesomelist();
		
//		$arr = array ( 0 => 'icon-glass', 1 => 'icon-music', 2 => 'icon-search', 3 => 'icon-envelope-alt', 4 => 'icon-heart', 5 => 'icon-star', 6 => 'icon-star-empty', 7 => 'icon-user', 8 => 'icon-film', 9 => 'icon-th-large', 10 => 'icon-th', 11 => 'icon-th-list', 12 => 'icon-ok', 13 => 'icon-remove', 14 => 'icon-zoom-in', 15 => 'icon-zoom-out', 16 => 'icon-off', 17 => 'icon-signal', 18 => 'icon-cog', 19 => 'icon-trash', 20 => 'icon-home', 21 => 'icon-file-alt', 22 => 'icon-time', 23 => 'icon-road', 24 => 'icon-download-alt', 25 => 'icon-download', 26 => 'icon-upload', 27 => 'icon-inbox', 28 => 'icon-play-circle', 29 => 'icon-repeat', 30 => 'icon-refresh', 31 => 'icon-list-alt', 32 => 'icon-lock', 33 => 'icon-flag', 34 => 'icon-headphones', 35 => 'icon-volume-off', 36 => 'icon-volume-down', 37 => 'icon-volume-up', 38 => 'icon-qrcode', 39 => 'icon-barcode', 40 => 'icon-tag', 41 => 'icon-tags', 42 => 'icon-book', 43 => 'icon-bookmark', 44 => 'icon-print', 45 => 'icon-camera', 46 => 'icon-font', 47 => 'icon-bold', 48 => 'icon-italic', 49 => 'icon-text-height', 50 => 'icon-text-width', 51 => 'icon-align-left', 52 => 'icon-align-center', 53 => 'icon-align-right', 54 => 'icon-align-justify', 55 => 'icon-list', 56 => 'icon-indent-left', 57 => 'icon-indent-right', 58 => 'icon-facetime-video', 59 => 'icon-picture', 60 => 'icon-pencil', 61 => 'icon-map-marker', 62 => 'icon-adjust', 63 => 'icon-tint', 64 => 'icon-edit', 65 => 'icon-share', 66 => 'icon-check', 67 => 'icon-move', 68 => 'icon-step-backward', 69 => 'icon-fast-backward', 70 => 'icon-backward', 71 => 'icon-play', 72 => 'icon-pause', 73 => 'icon-stop', 74 => 'icon-forward', 75 => 'icon-fast-forward', 76 => 'icon-step-forward', 77 => 'icon-eject', 78 => 'icon-chevron-left', 79 => 'icon-chevron-right', 80 => 'icon-plus-sign', 81 => 'icon-minus-sign', 82 => 'icon-remove-sign', 83 => 'icon-ok-sign', 84 => 'icon-question-sign', 85 => 'icon-info-sign', 86 => 'icon-screenshot', 87 => 'icon-remove-circle', 88 => 'icon-ok-circle', 89 => 'icon-ban-circle', 90 => 'icon-arrow-left', 91 => 'icon-arrow-right', 92 => 'icon-arrow-up', 93 => 'icon-arrow-down', 94 => 'icon-share-alt', 95 => 'icon-resize-full', 96 => 'icon-resize-small', 97 => 'icon-plus', 98 => 'icon-minus', 99 => 'icon-asterisk', 100 => 'icon-exclamation-sign', 101 => 'icon-gift', 102 => 'icon-leaf', 103 => 'icon-fire', 104 => 'icon-eye-open', 105 => 'icon-eye-close', 106 => 'icon-warning-sign', 107 => 'icon-plane', 108 => 'icon-calendar', 109 => 'icon-random', 110 => 'icon-comment', 111 => 'icon-magnet', 112 => 'icon-chevron-up', 113 => 'icon-chevron-down', 114 => 'icon-retweet', 115 => 'icon-shopping-cart', 116 => 'icon-folder-close', 117 => 'icon-folder-open', 118 => 'icon-resize-vertical', 119 => 'icon-resize-horizontal', 120 => 'icon-bar-chart', 121 => 'icon-twitter-sign', 122 => 'icon-facebook-sign', 123 => 'icon-camera-retro', 124 => 'icon-key', 125 => 'icon-cogs', 126 => 'icon-comments', 127 => 'icon-thumbs-up-alt', 128 => 'icon-thumbs-down-alt', 129 => 'icon-star-half', 130 => 'icon-heart-empty', 131 => 'icon-signout', 132 => 'icon-linkedin-sign', 133 => 'icon-pushpin', 134 => 'icon-external-link', 135 => 'icon-signin', 136 => 'icon-trophy', 137 => 'icon-github-sign', 138 => 'icon-upload-alt', 139 => 'icon-lemon', 140 => 'icon-phone', 141 => 'icon-check-empty', 142 => 'icon-bookmark-empty', 143 => 'icon-phone-sign', 144 => 'icon-twitter', 145 => 'icon-facebook', 146 => 'icon-github', 147 => 'icon-unlock', 148 => 'icon-credit-card', 149 => 'icon-rss', 150 => 'icon-hdd', 151 => 'icon-bullhorn', 152 => 'icon-bell', 153 => 'icon-certificate', 154 => 'icon-hand-right', 155 => 'icon-hand-left', 156 => 'icon-hand-up', 157 => 'icon-hand-down', 158 => 'icon-circle-arrow-left', 159 => 'icon-circle-arrow-right', 160 => 'icon-circle-arrow-up', 161 => 'icon-circle-arrow-down', 162 => 'icon-globe', 163 => 'icon-wrench', 164 => 'icon-tasks', 165 => 'icon-filter', 166 => 'icon-briefcase', 167 => 'icon-fullscreen', 168 => 'icon-group', 169 => 'icon-link', 170 => 'icon-cloud', 171 => 'icon-beaker', 172 => 'icon-cut', 173 => 'icon-copy', 174 => 'icon-paper-clip', 175 => 'icon-save', 176 => 'icon-sign-blank', 177 => 'icon-reorder', 178 => 'icon-list-ul', 179 => 'icon-list-ol', 180 => 'icon-strikethrough', 181 => 'icon-underline', 182 => 'icon-table', 183 => 'icon-magic', 184 => 'icon-truck', 185 => 'icon-pinterest', 186 => 'icon-pinterest-sign', 187 => 'icon-google-plus-sign', 188 => 'icon-google-plus', 189 => 'icon-money', 190 => 'icon-caret-down', 191 => 'icon-caret-up', 192 => 'icon-caret-left', 193 => 'icon-caret-right', 194 => 'icon-columns', 195 => 'icon-sort', 196 => 'icon-sort-down', 197 => 'icon-sort-up', 198 => 'icon-envelope', 199 => 'icon-linkedin', 200 => 'icon-undo', 201 => 'icon-legal', 202 => 'icon-dashboard', 203 => 'icon-comment-alt', 204 => 'icon-comments-alt', 205 => 'icon-bolt', 206 => 'icon-sitemap', 207 => 'icon-umbrella', 208 => 'icon-paste', 209 => 'icon-lightbulb', 210 => 'icon-exchange', 211 => 'icon-cloud-download', 212 => 'icon-cloud-upload', 213 => 'icon-user-md', 214 => 'icon-stethoscope', 215 => 'icon-suitcase', 216 => 'icon-bell-alt', 217 => 'icon-coffee', 218 => 'icon-food', 219 => 'icon-file-text-alt', 220 => 'icon-building', 221 => 'icon-hospital', 222 => 'icon-ambulance', 223 => 'icon-medkit', 224 => 'icon-fighter-jet', 225 => 'icon-beer', 226 => 'icon-h-sign', 227 => 'icon-plus-sign-alt', 228 => 'icon-double-angle-left', 229 => 'icon-double-angle-right', 230 => 'icon-double-angle-up', 231 => 'icon-double-angle-down', 232 => 'icon-angle-left', 233 => 'icon-angle-right', 234 => 'icon-angle-up', 235 => 'icon-angle-down', 236 => 'icon-desktop', 237 => 'icon-laptop', 238 => 'icon-tablet', 239 => 'icon-mobile-phone', 240 => 'icon-circle-blank', 241 => 'icon-quote-left', 242 => 'icon-quote-right', 243 => 'icon-spinner', 244 => 'icon-circle', 245 => 'icon-reply', 246 => 'icon-github-alt', 247 => 'icon-folder-close-alt', 248 => 'icon-folder-open-alt', 249 => 'icon-expand-alt', 250 => 'icon-collapse-alt', 251 => 'icon-smile', 252 => 'icon-frown', 253 => 'icon-meh', 254 => 'icon-gamepad', 255 => 'icon-keyboard', 256 => 'icon-flag-alt', 257 => 'icon-flag-checkered', 258 => 'icon-terminal', 259 => 'icon-code', 260 => 'icon-reply-all', 261 => 'icon-mail-reply-all', 262 => 'icon-star-half-empty', 263 => 'icon-location-arrow', 264 => 'icon-crop', 265 => 'icon-code-fork', 266 => 'icon-unlink', 267 => 'icon-question', 268 => 'icon-info', 269 => 'icon-exclamation', 270 => 'icon-superscript', 271 => 'icon-subscript', 272 => 'icon-eraser', 273 => 'icon-puzzle-piece', 274 => 'icon-microphone', 275 => 'icon-microphone-off', 276 => 'icon-shield', 277 => 'icon-calendar-empty', 278 => 'icon-fire-extinguisher', 279 => 'icon-rocket', 280 => 'icon-maxcdn', 281 => 'icon-chevron-sign-left', 282 => 'icon-chevron-sign-right', 283 => 'icon-chevron-sign-up', 284 => 'icon-chevron-sign-down', 285 => 'icon-html5', 286 => 'icon-css3', 287 => 'icon-anchor', 288 => 'icon-unlock-alt', 289 => 'icon-bullseye', 290 => 'icon-ellipsis-horizontal', 291 => 'icon-ellipsis-vertical', 292 => 'icon-rss-sign', 293 => 'icon-play-sign', 294 => 'icon-ticket', 295 => 'icon-minus-sign-alt', 296 => 'icon-check-minus', 297 => 'icon-level-up', 298 => 'icon-level-down', 299 => 'icon-check-sign', 300 => 'icon-edit-sign', 301 => 'icon-external-link-sign', 302 => 'icon-share-sign', 303 => 'icon-compass', 304 => 'icon-collapse', 305 => 'icon-collapse-top', 306 => 'icon-expand', 307 => 'icon-eur', 308 => 'icon-gbp', 309 => 'icon-usd', 310 => 'icon-inr', 311 => 'icon-jpy', 312 => 'icon-cny', 313 => 'icon-krw', 314 => 'icon-btc', 315 => 'icon-file', 316 => 'icon-file-text', 317 => 'icon-sort-by-alphabet', 318 => 'icon-sort-by-alphabet-alt', 319 => 'icon-sort-by-attributes', 320 => 'icon-sort-by-attributes-alt', 321 => 'icon-sort-by-order', 322 => 'icon-sort-by-order-alt', 323 => 'icon-thumbs-up', 324 => 'icon-thumbs-down', 325 => 'icon-youtube-sign', 326 => 'icon-youtube', 327 => 'icon-xing', 328 => 'icon-xing-sign', 329 => 'icon-youtube-play', 330 => 'icon-dropbox', 331 => 'icon-stackexchange', 332 => 'icon-instagram', 333 => 'icon-flickr', 334 => 'icon-adn', 335 => 'icon-bitbucket', 336 => 'icon-bitbucket-sign', 337 => 'icon-tumblr', 338 => 'icon-tumblr-sign', 339 => 'icon-long-arrow-down', 340 => 'icon-long-arrow-up', 341 => 'icon-long-arrow-left', 342 => 'icon-long-arrow-right', 343 => 'icon-apple', 344 => 'icon-windows', 345 => 'icon-android', 346 => 'icon-linux', 347 => 'icon-dribbble', 348 => 'icon-skype', 349 => 'icon-foursquare', 350 => 'icon-trello', 351 => 'icon-female', 352 => 'icon-male', 353 => 'icon-gittip', 354 => 'icon-sun', 355 => 'icon-moon', 356 => 'icon-archive', 357 => 'icon-bug', 358 => 'icon-vk', 359 => 'icon-weibo', 360 => 'icon-renren');
//		$data['falist']=$arr;
//		$data['menulist'] = $this->db->get('tblOL_UtlMenu')->result();
		
		$this->load->view('utility/menu/test',$data);
	}
}